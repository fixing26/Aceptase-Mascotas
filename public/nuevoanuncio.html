<!DOCTYPE html>
<html lang="es">

	<head>
		<meta charset="UTF-8">
		<title>Aceptase Mascotas! - Anuncie aqui</title>
		<link rel="stylesheet" href="css/global.css">
		<link rel="stylesheet" href="css/menu.css">
		<link rel="stylesheet" href="css/nuevoanuncio.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
		<link rel="shortcut icon" type="image" href="img/icon-pet-paw.svg">
		
	</head>
  <body>
	<div class="container">
		<div class="back">
			<header class="header">
				<a href="index.html" class="title">Aceptase Mascotas</a>
				<nav>
					<ul class="navs">
						<li class="options border_options"><a href="">Anucie aqui</a></li>
						<li class="options border_options"><a href="misanuncios.html">Mis anuncios</a></li>
						<li class="options border_options"><a href="">Favoritos</a></li>
						<li class="options login"><a href="login.html">CERRAR SESIÓN</a></li>
					</ul>
				</nav>
			</header>
			<div class="total">
				<div class="form_group">
					<form action="/Anuncio/NuevoAnuncio" enctype="multipart/form-data" method="post" id="AnuncioForm">
						<h2 class="title1">Nuevo anuncio</h2>
						<h3  class="title2">Ciudad, Provincia</h3>
						<div class="custom-select"></div>
						<select name="Ciudad" id="Ciudad" class="inputCities input">
							<option value="Barcelona, Cataluña">Barcelona, Cataluña</option>
							<option value="Castilla y León">Castilla y León</option>
							<option value="Islas Canarias">Islas Canarias</option>
							<option value="Logroño, La Rioja">Logroño, La Rioja</option>
							<option value="Madrid, Madrid">Madrid, Madrid</option>
							<option value="Mérida, Extremadura">Mérida, Extremadura</option>
							<option value="Murcia, Murcia">Murcia, Murcia</option>
							<option value="Oviedo, Asturias">Oviedo, Asturias</option>
							<option value="Palma, Islas Baleares">Palma, Islas Baleares</option>
							<option value="Pamplona, Navarra">Pamplona, Navarra</option>
							<option value="Santander, Cantabria">Santander, Cantabria</option>
							<option value="Santiago de Compostela, Galicia">Santiago de Compostela, Galicia</option>
							<option value="Sevilla, Andalucía">Sevilla, Andalucía</option>
							<option value="Toledo, Castilla-La Mancha">Toledo, Castilla-La Mancha</option>
							<option value="Valencia, Valencia">Valencia, Valencia</option>
							<option value="Vitoria-Gasteiz, País Vasco">Vitoria-Gasteiz, País Vasco</option>
							<option value="Zaragoza, Aragón">Zaragoza, Aragón</option>							
						  </select>		
						<h3 class="title2">Tipo de vivienda</h3>
						<div class="options_radio">
							<input class="radio" type="radio" id="Tipo" name="Tipo" value="apartamento" required>
							<label for="apartamento">Apartamento</label>
							<input class="radio" type="radio" id="Tipo" name="Tipo" value="piso">
							<label for="piso">Piso</label>
							<input class="radio" type="radio" id="Tipo" name="Tipo" value="casa">
							<label for="casa">Casa</label>
							<input class="radio" type="radio" id="Tipo" name="Tipo" value="chalet">
							<label for="chalet">Chalet</label>
						</div>
						<h3 class="title2">Numero de habitaciones</h3>
						<div class="options_radio">
							<input class="radio" type="radio" id="NumeroHab" name="NumeroHab" value="uno" required>
							<label for="uno">1</label><br>
							<input class="radio" type="radio" id="NumeroHab" name="NumeroHab" value="dos">
							<label for="dos">2</label><br>
							<input class="radio" type="radio" id="NumeroHab" name="NumeroHab" value="tres">
							<label for="tres">3+</label><br>
						</div>
						<h3  class="title2">Numero de baños</h3>
						<div class="options_radio">
							<input class="radio" type="radio" id="NumeroBan" name="NumeroBan" value="uno" required>
							<label for="uno">1</label><br>
							<input class="radio" type="radio" id="NumeroBan" name="NumeroBan" value="dos">
							<label for="dos">2</label><br>
							<input class="radio" type="radio" id="NumeroBan" name="NumeroBan" value="tres">
							<label for="tres">3+</label><br>
						</div>
						<h3  class="title2">Area del inmueble en m²</h3>
						<input class="input inputSize" type="Number" min="0" placeholder="m²" id="Area" name="Area" required><br>
						<h3 class="title2">Descripción del inmueble/zona</h3>
						<textarea class="input" class="description" maxlength="150" id="Descripcion" name="Descripcion" placeholder="Una breve descripción de la zona y del inmueble." required></textarea><br>
						<h3  class="title2">Precio del inmueble en €</h3>
						<input class="input inputSize" type="Number" min="0" id="Precio" name="Precio" placeholder="€" required><br>
						<h3  class="title2">Fotos del anuncio</h3>
						<input type="file" multiple id="ruta" name="ruta" accept="image/*" />
						<label class="photos_file" for="upload">Seleccionar archivo</label>
						<br>
						<input class="btn btn-deafault" type="submit" value="Publicar el anuncio">
					</form>
				</div>
			</div>
		</div>
	</div>
	  <footer class="container_footer">
	<p>© copyright 2024 - Aceptase Mascotas!</p>
</footer>

<script>
	const form = document.getElementById("AnuncioForm");

	form.addEventListener("submit", submitForm);

	function submitForm(e) {
    e.preventDefault();
    const Ciudad = document.getElementById("Ciudad");
	const Tipo = document.getElementById("Tipo");
	const NumeroHab = document.getElementById('NumeroHab');
	const NumeroBan = document.getElementById('NumeroBan');
	const Area = document.getElementById('Area');
	const Descripcion = document.getElementById('Descripcion');
	const Precio = document.getElementById('Precio');
	const IdCreador = localStorage.getItem('IdCreador');
	console.log('IdCreador', IdCreador);
    const formData = new FormData();
    formData.append("Ciudad", Ciudad.value);
	formData.append("Tipo", Tipo.value);
	formData.append("NumeroHab", NumeroHab.value);
	formData.append("Numeroban", NumeroBan.value);
	formData.append("Area", Area.value);
	formData.append("Descripcion", Descripcion.value);
	formData.append("Precio", Precio.value);
	formData.append("IdCreador", IdCreador);
	const files = document.getElementById('ruta').files;
    for(let i =0; i < files.length; i++) {
		formData.append("files", files[i]);
    }
	console.log(formData);
    fetch("/Anuncio/NuevoAnuncio", {
        body: formData,
		method: 'POST',
        
    })
        .then((res) => console.log(res))
        .catch((err) => ("Error occured", err));
}
</script>
		
</body>

</html>